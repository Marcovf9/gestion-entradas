generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

model Zona {
  id      Int      @id @default(autoincrement())
  nombre  String
  precio  Int
  butacas Butaca[]
}

model Butaca {
  id         Int     @id @default(autoincrement())
  zonaId     Int
  fila       Int
  columna    Int
  disponible Boolean @default(true)

  zona   Zona            @relation(fields: [zonaId], references: [id])
  ventas VentasButacas[]
}

model Venta {
  id              Int             @id @default(autoincrement())
  compradorNombre String
  compradorEmail  String
  total           Int
  fecha           DateTime        @default(now())
  butacas         VentasButacas[]
}

model VentasButacas {
  ventaId  Int
  butacaId Int
  venta    Venta  @relation(fields: [ventaId], references: [id])
  butaca   Butaca @relation(fields: [butacaId], references: [id])

  @@id([ventaId, butacaId])
}
